---
// @ts-ignore
import { Image } from 'astro:assets';
import Icon from '../Icon/Icon.astro';
import './user.css';

/**
 * The props for the User component.
 */
interface Props {
	/**
	 * The name of the user.
	 */
	name: string;
	/**
	 * The description of the user. Could be a role, a handle, etc.
	 */
	description: string;
	/**
	 * The avatar of the user. Either a URL to an image or an imported image.
	 */
	avatar?: string;
	/**
	 * Additional classes to apply to the user container.
	 */
	class?: string;
	/**
	 * The loading strategy for the image. Defaults to `lazy`.
	 */
	loading?: 'eager' | 'lazy';
}

const { name, description, avatar, class: className, loading = 'lazy' } = Astro.props;
---
<div class="sui-user-container" class:list={[ className ]}>
  <div class="sui-avatar-container">
    {avatar ? (
      <Image src={avatar} inferSize loading={loading} alt={name} class="sui-avatar-img" />
    ) : (
      <Icon name='user' width={24} height={24} role='img' aria-label={`Placeholder avatar for ${name}`} />
    )}
  </div>
  <div class="sui-text-content">
    <span class="sui-name">{name}</span>
    <span class="sui-description">{description}</span>
  </div>
</div>
