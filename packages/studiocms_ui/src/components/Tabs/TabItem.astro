---
import type { AvailableIcons } from 'studiocms:ui/icons';
import type { StudioCMSColorway } from '../../utils/colors.js';
import { generateID } from '../../utils/generateID.js';

/**
 * The props for the TabItem component.
 */
interface Props {
	/**
	 * The icon to display next to the tab.
	 */
	icon?: AvailableIcons;
	/**
	 * The label of the tab.
	 */
	label: string;
	/**
	 * The color of the tab. Defaults to `primary`.
	 */
	color?: Exclude<StudioCMSColorway, 'default'>;
	/**
	 * Whether the tab should be active by default.
	 */
	active?: boolean;

	/**
	 * The unique ID of the tab. If not provided, a random ID will be generated.
	 */
	id?: string;
}

const id = generateID('tab');

const { icon, label, color = 'primary', active = false, id: customId } = Astro.props;
---
<sui-tab-item
	id={customId ?? id}
	data-icon={icon}
	data-label={label}
	data-color={color}
	data-tab-id={customId ?? id}
	data-active={active ? 'true' : undefined}
>
	<slot />
</sui-tab-item>
<style>
  sui-tab-item {
    display: none;
    width: 100%;
    height: auto;
  }

  sui-tab-item.active {
    display: block;
  }
</style>
