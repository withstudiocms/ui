<script>
  import { ThemeHelper } from 'studiocms:ui/utils';

  const themeHelper = new ThemeHelper();

  const outputSpan = document.querySelector<HTMLSpanElement>('#theme-listener-output')!;

  themeHelper.onThemeChange((newTheme, oldTheme) => {
    outputSpan.textContent = `Theme is now: ${newTheme}! (Before: ${oldTheme})`;
  });
</script>
